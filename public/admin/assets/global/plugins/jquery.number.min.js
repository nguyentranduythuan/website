!function(a){function b(a,b){if(this.createTextRange){var c=this.createTextRange();c.collapse(!0),c.moveStart("character",a),c.moveEnd("character",b-a),c.select()}else this.setSelectionRange&&(this.focus(),this.setSelectionRange(a,b))}function c(a){var b=this.value.length;if(a="start"==a.toLowerCase()?"Start":"End",document.selection){var d,e,f,c=document.selection.createRange();return d=c.duplicate(),d.expand("textedit"),d.setEndPoint("EndToEnd",c),e=d.text.length-c.text.length,f=e+c.text.length,"Start"==a?e:f}return"undefined"!=typeof this["selection"+a]&&(b=this["selection"+a]),b}var d={codes:{188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};a.fn.number=function(e,f,g,h){h="undefined"===typeof h?",":h,g="undefined"===typeof g?".":g,f="undefined"===typeof f?0:f;var i="\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4),j=new RegExp("[^"+i+"0-9]","g"),k=new RegExp(i,"g");return e===!0?this.is("input:text")?this.on({"keydown.format":function(e){var i=a(this),l=i.data("numFormat"),m=e.keyCode?e.keyCode:e.which,n="",o=c.apply(this,["start"]),p=c.apply(this,["end"]),q="",r=!1;if(d.codes.hasOwnProperty(m)&&(m=d.codes[m]),!e.shiftKey&&m>=65&&m<=90?m+=32:!e.shiftKey&&m>=69&&m<=105?m-=48:e.shiftKey&&d.shifts.hasOwnProperty(m)&&(n=d.shifts[m]),""==n&&(n=String.fromCharCode(m)),8!==m&&n!=g&&!n.match(/[0-9]/)){var s=e.keyCode?e.keyCode:e.which;if(46==s||8==s||9==s||27==s||13==s||(65==s||82==s)&&(e.ctrlKey||e.metaKey)===!0||s>=35&&s<=39)return;return e.preventDefault(),!1}if((0!=o||p!=this.value.length)&&0!=i.val()||e.metaKey||e.ctrlKey||e.altKey||1!==n.length||0==n?l.c=p-this.value.length:(o=p=1,this.value="",l.init=f>0?-1:0,l.c=f>0?-(f+1):0,b.apply(this,[0,0])),f>0&&n==g&&o==this.value.length-f-1)l.c++,l.init=Math.max(0,l.init),e.preventDefault(),r=this.value.length+l.c;else if(n==g)l.init=Math.max(0,l.init),e.preventDefault();else if(f>0&&8==m&&o==this.value.length-f)e.preventDefault(),l.c--,r=this.value.length+l.c;else if(f>0&&8==m&&o>this.value.length-f){if(""===this.value)return;"0"!=this.value.slice(o-1,o)&&(q=this.value.slice(0,o-1)+"0"+this.value.slice(o),i.val(q.replace(j,"").replace(k,g))),e.preventDefault(),l.c--,r=this.value.length+l.c}else 8==m&&this.value.slice(o-1,o)==h?(e.preventDefault(),l.c--,r=this.value.length+l.c):f>0&&o==p&&this.value.length>f+1&&o>this.value.length-f-1&&isFinite(+n)&&!e.metaKey&&!e.ctrlKey&&!e.altKey&&1===n.length&&(q=p===this.value.length?this.value.slice(0,o-1):this.value.slice(0,o)+this.value.slice(o+1),this.value=q,r=o);r!==!1&&b.apply(this,[r,r]),i.data("numFormat",l)},"keyup.format":function(d){var j,e=a(this),g=e.data("numFormat"),h=d.keyCode?d.keyCode:d.which,i=c.apply(this,["start"]);""===this.value||(h<48||h>57)&&(h<96||h>105)&&8!==h||(e.val(e.val()),f>0&&(g.init<1?(i=this.value.length-f-(g.init<0?1:0),g.c=i-this.value.length,g.init=1,e.data("numFormat",g)):i>this.value.length-f&&8!=h&&(g.c++,e.data("numFormat",g))),j=this.value.length+g.c,b.apply(this,[j,j]))},"paste.format":function(b){var c=a(this),d=b.originalEvent,e=null;return window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):d.clipboardData&&d.clipboardData.getData&&(e=d.clipboardData.getData("text/plain")),c.val(e),b.preventDefault(),!1}}).each(function(){var b=a(this).data("numFormat",{c:-(f+1),decimals:f,thousands_sep:h,dec_point:g,regex_dec_num:j,regex_dec:k,init:!1});""!==this.value&&b.val(b.val())}):this.each(function(){var b=a(this),c=+b.text().replace(j,"").replace(k,".");b.number(isFinite(c)?+c:0,f,g,h)}):this.text(a.number.apply(window,arguments))};var e=null,f=null;a.valHooks.text?(e=a.valHooks.text.get,f=a.valHooks.text.set):a.valHooks.text={},a.valHooks.text.get=function(b){var d,c=a(b),f=c.data("numFormat");return f?""===b.value?"":(d=+b.value.replace(f.regex_dec_num,"").replace(f.regex_dec,"."),""+(isFinite(d)?d:0)):a.isFunction(e)?e(b):void 0},a.valHooks.text.set=function(b,c){var d=a(b),e=d.data("numFormat");return e?b.value=a.number(c,e.decimals,e.dec_point,e.thousands_sep):a.isFunction(f)?f(b,c):void 0},a.number=function(a,b,c,d){d="undefined"===typeof d?",":d,c="undefined"===typeof c?".":c,b=isFinite(+b)?Math.abs(b):0;var e="\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4);a=(a+"").replace(new RegExp(e,"g"),".").replace(new RegExp("[^0-9+-Ee.]","g"),"");var f=isFinite(+a)?+a:0,g="",h=function(a,b){var c=Math.pow(10,b);return""+Math.round(a*c)/c};return g=(b?h(f,b):""+Math.round(f)).split("."),g[0].length>3&&(g[0]=g[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,d)),(g[1]||"").length<b&&(g[1]=g[1]||"",g[1]+=new Array(b-g[1].length+1).join("0")),g.join(c)}}(jQuery);